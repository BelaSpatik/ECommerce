[{"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/index.js":"1","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/App.js":"2","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/reportWebVitals.js":"3","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartWidget/CartWidget.js":"4","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/NavBar/NavBar.js":"5","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemList/ItemList.js":"6","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/Item/Item.js":"7","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemListContainer/ItemListContainer.js":"8","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemCounter/ItemCounter.js":"9","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemDetailContainer/ItemDetailContainer.js":"10","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemDetail/ItemDetail.js":"11","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/backend/catalog.js":"12","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartModal/CartModal.js":"13","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/context/cartContext.js":"14","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/Loading/Loading.js":"15","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartView/CartView.js":"16","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartItem/CartItem.js":"17","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/firebase/index.js":"18","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ContainerPrueba/ContainerPrueba.js":"19","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/Error404/Error404.js":"20","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartOrder/CartOrder.js":"21","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartForm/CartForm.js":"22","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/OrderBill/OrderBill.js":"23","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/FormInput/FormInput.js":"24"},{"size":500,"mtime":1609375530000,"results":"25","hashOfConfig":"26"},{"size":2004,"mtime":1612901508000,"results":"27","hashOfConfig":"26"},{"size":362,"mtime":1609375530000,"results":"28","hashOfConfig":"26"},{"size":905,"mtime":1612525144000,"results":"29","hashOfConfig":"26"},{"size":4535,"mtime":1612733306000,"results":"30","hashOfConfig":"26"},{"size":920,"mtime":1611451327000,"results":"31","hashOfConfig":"26"},{"size":801,"mtime":1612733126000,"results":"32","hashOfConfig":"26"},{"size":3549,"mtime":1613165297000,"results":"33","hashOfConfig":"26"},{"size":1592,"mtime":1612719062000,"results":"34","hashOfConfig":"26"},{"size":2104,"mtime":1613157866000,"results":"35","hashOfConfig":"26"},{"size":3420,"mtime":1612802354000,"results":"36","hashOfConfig":"26"},{"size":17365,"mtime":1612551169000,"results":"37","hashOfConfig":"26"},{"size":2670,"mtime":1613155619000,"results":"38","hashOfConfig":"26"},{"size":2839,"mtime":1612902397000,"results":"39","hashOfConfig":"26"},{"size":333,"mtime":1612492877000,"results":"40","hashOfConfig":"26"},{"size":4334,"mtime":1613161726000,"results":"41","hashOfConfig":"26"},{"size":3019,"mtime":1612545198000,"results":"42","hashOfConfig":"26"},{"size":1949,"mtime":1613165180000,"results":"43","hashOfConfig":"26"},{"size":1788,"mtime":1612560150000,"results":"44","hashOfConfig":"26"},{"size":278,"mtime":1612633309000,"results":"45","hashOfConfig":"26"},{"size":2900,"mtime":1613159841000,"results":"46","hashOfConfig":"26"},{"size":3323,"mtime":1613162772000,"results":"47","hashOfConfig":"26"},{"size":1058,"mtime":1613159700000,"results":"48","hashOfConfig":"26"},{"size":733,"mtime":1613156784000,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"se2imm",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/index.js",[],["104","105"],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/App.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/reportWebVitals.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartWidget/CartWidget.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/NavBar/NavBar.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemList/ItemList.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/Item/Item.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemListContainer/ItemListContainer.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemCounter/ItemCounter.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemDetailContainer/ItemDetailContainer.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ItemDetail/ItemDetail.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/backend/catalog.js",[],["106","107"],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartModal/CartModal.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/context/cartContext.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/Loading/Loading.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartView/CartView.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartItem/CartItem.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/firebase/index.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/ContainerPrueba/ContainerPrueba.js",["108","109","110"],"import React, {useState, useEffect} from 'react'\n//import { getFirestore } from \"../../firebase\"\nimport { getCategories } from \"../../firebase\"\n\n\nexport default function ContainerPrueba() {\n    const [items, setItems] = useState([])\n    \n    /*\n    useEffect(() => { //useEffect para que solo se lo llame una vez montado el componente. Evitar interferencias\n        const db = getFirestore();\n        const catalog = db.collection(\"catalog\");\n        catalog.get() //una promise propia de firebase\n        .then((querySnapshot) => {\n            querySnapshot.size === 0 && console.log(\"No hay resultados\")\n            let result = querySnapshot.docs.map(doc => {  \n                return ({ //destructuring para crear un objeto con la data el doc.id + doc.data() /niveles diferent\n                    id: doc.id,\n                    ...doc.data()\n                })\n            })\n            console.log(\"Resultado:\", result)\n            setItems(result)\n        })\n    }, [])*/ \n\n    useEffect(() => { //useEffect para que solo se lo llame una vez montado el componente. Evitar interferencias\n        getCategories() //una promise propia de firebase\n        .then((querySnapshot) => {\n            querySnapshot.size === 0 && console.log(\"No hay resultados\")\n            let result = querySnapshot.docs.map(doc => {  \n                return ({ //destructuring para crear un objeto con la data el doc.id + doc.data() /niveles diferent\n                    id: doc.id,\n                    ...doc.data()\n                })\n            })\n            console.log(\"Resultado:\", result)\n            //setItems(result)\n        })\n    }, [])\n\n    //console.log(items)\n\n    return (\n        <div>\n            <h1 style={{color: \"white\"}} >Firebase Collection - Catalog</h1>\n        </div>\n    )\n}\n",["111","112"],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/Error404/Error404.js",["113"],"import React from 'react'\nimport \"./error404.css\"\n\nconst Error404 = ({text}) => {\n    return (\n        <div className=\"not__found\">\n            <img src={process.env.PUBLIC_URL + \"/images/404.png\" } />\n            <h1>{text}</h1>\n        </div>\n    )\n}\n\nexport default Error404\n","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartOrder/CartOrder.js",["114","115"],"import React, { useState, useEffect } from 'react'\nimport CartForm from \"../CartForm/CartForm\"\nimport OrderBill from \"../OrderBill/OrderBill\"\nimport \"./cartorder.css\"\nimport {useSpring, animated} from \"react-spring\"\n\nimport { getFirestore } from \"../../firebase\"\nimport firebase from \"firebase/app\"\nimport \"@firebase/firestore\"\n\n\nconst CartOrder = ({cart, total}) => {\n    \n    const [userInfo, setUserInfo] = useState()\n    const [orderId, setOrderId] = useState(\"\")\n\n    //const [itemsUpdate, setItemsUpdate] = useState([])\n\n    //useEffect(() => {\n    //    setItemsUpdate(cart.map(purchase => purchase.item.bookId))\n    //    console.log(\"Items to update\", itemsUpdate)\n    //}, [])\n\n\n    const getInfo = (user) => {\n        setUserInfo(user);\n    }\n\n    const generateOrder = () => {\n        const db = getFirestore()\n        const orders = db.collection(\"orders\");\n        const newOrder = {\n            buyer: userInfo,\n            items: cart,\n            date: firebase.firestore.Timestamp.fromDate(new Date()),\n            total: total\n        }\n        console.log(userInfo);\n        console.log(newOrder)\n\n        orders.add(newOrder).then(({id}) => {\n            setOrderId(id)\n        }).catch(error => console.log(\"Ha habido un error:\", error))\n    }\n\n    const updateStock = () => {\n        (async function () {\n            const db = getFirestore()\n            const itemsToUpdate = db.collection(\"catalog\")\n            .where(firebase.firestore.FieldPath.documentId(), \"in\", cart.map(purchase => purchase.item.bookId))\n\n            const query = await itemsToUpdate.get()  //await, otra forma en vez de .then \n            console.log(query)\n            const batch = db.batch()\n\n            const outOfStock = [];\n            query.docs.forEach((docSnapshot, index) => {\n                if(docSnapshot.data().stock >= cart[index].quantity) {\n                    batch.update(docSnapshot.ref, { stock: docSnapshot.data().stock - cart[index].quantity })\n                } else {\n                    outOfStock.push({...docSnapshot.data(), id: docSnapshot.id})\n                }\n            })\n            outOfStock.length === 0 && await batch.commit()\n        })()\n    }\n\n    //{ buyer: { name, phone, email }, items: [{id, title, price}], total  }\n\n    useEffect(() => {\n        userInfo && generateOrder()\n    }, [userInfo])\n\n    useEffect(() => {\n        //orderId && updateStock()\n    },[orderId])\n\n    const slide = useSpring({\n        from: { opacity: 0, transform: \"translateY(-90%)\"},\n        to: { opacity: 1, transform: \"translateY(0%)\" },\n    })\n\n    console.log(userInfo)\n\n    return (\n        <animated.div className=\"cartorder__div\" style={slide}>\n            <CartForm getInfo={getInfo} orderId={orderId} />\n            { orderId &&\n            <OrderBill userInfo={userInfo} cart={cart} orderId={orderId} />}\n        </animated.div>\n    )\n}\n\nexport default CartOrder\n","/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/CartForm/CartForm.js",["116","117"],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/OrderBill/OrderBill.js",[],"/Users/Belen/Desktop/CODING/Github/ECommerce/ecommerce/src/components/FormInput/FormInput.js",[],{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"118","replacedBy":"122"},{"ruleId":"120","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":2,"column":10,"nodeType":"126","messageId":"127","endLine":2,"endColumn":22},{"ruleId":"124","severity":1,"message":"128","line":7,"column":12,"nodeType":"126","messageId":"127","endLine":7,"endColumn":17},{"ruleId":"124","severity":1,"message":"129","line":7,"column":19,"nodeType":"126","messageId":"127","endLine":7,"endColumn":27},{"ruleId":"118","replacedBy":"130"},{"ruleId":"120","replacedBy":"131"},{"ruleId":"132","severity":1,"message":"133","line":7,"column":13,"nodeType":"134","endLine":7,"endColumn":70},{"ruleId":"124","severity":1,"message":"135","line":46,"column":11,"nodeType":"126","messageId":"127","endLine":46,"endColumn":22},{"ruleId":"136","severity":1,"message":"137","line":72,"column":8,"nodeType":"138","endLine":72,"endColumn":18,"suggestions":"139"},{"ruleId":"140","severity":1,"message":"141","line":26,"column":42,"nodeType":"142","messageId":"143","endLine":26,"endColumn":43,"suggestions":"144"},{"ruleId":"140","severity":1,"message":"141","line":26,"column":70,"nodeType":"142","messageId":"143","endLine":26,"endColumn":71,"suggestions":"145"},"no-native-reassign",["146"],"no-negated-in-lhs",["147"],["146"],["147"],"no-unused-vars","'getFirestore' is defined but never used.","Identifier","unusedVar","'items' is assigned a value but never used.","'setItems' is assigned a value but never used.",["146"],["147"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'updateStock' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'generateOrder'. Either include it or remove the dependency array.","ArrayExpression",["148"],"no-useless-escape","Unnecessary escape character: \\'.","Literal","unnecessaryEscape",["149","150"],["151","152"],"no-global-assign","no-unsafe-negation",{"desc":"153","fix":"154"},{"messageId":"155","fix":"156","desc":"157"},{"messageId":"158","fix":"159","desc":"160"},{"messageId":"155","fix":"161","desc":"157"},{"messageId":"158","fix":"162","desc":"160"},"Update the dependencies array to be: [generateOrder, userInfo]",{"range":"163","text":"164"},"removeEscape",{"range":"165","text":"166"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"167","text":"168"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"169","text":"166"},{"range":"170","text":"168"},[2332,2342],"[generateOrder, userInfo]",[916,917],"",[916,916],"\\",[944,945],[944,944]]