{"version":3,"sources":["firebase/index.js","context/cartContext.js","components/CartWidget/CartWidget.js","components/NavBar/NavBar.js","components/Item/Item.js","components/ItemList/ItemList.js","components/Loading/Loading.js","components/Error404/Error404.js","components/ScrollTop/ScrollTop.js","components/ItemListContainer/ItemListContainer.js","components/ItemCounter/ItemCounter.js","components/CartModal/CartModal.js","components/ItemDetail/ItemDetail.js","components/ItemDetailContainer/ItemDetailContainer.js","components/CartItem/CartItem.js","components/FormInput/FormInput.js","components/CartForm/CartForm.js","components/OrderBill/OrderBill.js","components/CartOrder/CartOrder.js","components/CartView/CartView.js","components/Favourites/Favourites.js","App.js","reportWebVitals.js","index.js"],"names":["app","firebase","default","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirestore","firestore","CartContext","createContext","CartProvider","children","useState","cart","setCart","stock","setStock","searchIdInCart","itemId","find","ticket","item","bookId","addMoreToCart","addItems","quantity","mergeDuplicate","purchase","length","cartCounter","reduce","acc","favourites","setFavourites","inFav","book","id","Provider","value","changeQuantity","counter","removeFromCart","filtered","filter","addProduct","picture","pictureurl","name","author","price","editorial","isbn","clearCart","total","addFavourite","removeFavourite","removed","CartWidget","useContext","cartItems","className","to","href","NavBar","categories","setCategories","useEffect","collection","orderBy","get","then","querySnapshot","size","console","log","result","docs","map","doc","catId","data","src","alt","category","link","tab","i","type","placeholder","option","Item","Fragment","ItemList","items","Loading","loading","Error404","text","ScrollTop","showScroll","setShowScroll","checkScrollTop","window","pageYOffset","addEventListener","removeEventListener","onClick","scrollTo","top","behavior","style","display","ItemListContainer","noMatch","setItems","notFound","setNotFound","categoryId","useParams","db","where","ItemCounter","initial","onAdd","setCounter","disabled","CartModal","setModal","setAddItems","goCart","setGoCart","load","setLoad","setTimeout","ItemDetail","modal","favButton","setFavButton","color","undefined","genre","tags","synopsis","parragraph","a√±oedicion","encuadernacion","traduccion","ilustracion","ItemDetailContainer","setItem","exists","catch","error","hasOwnProperty","CartItem","edit","setEdit","FormInput","valueHandler","validate","formError","errorTarget","field_id","errorDisable","onChange","onBlur","e","target","message","CartForm","getInfo","orderId","finish","setFinish","fullname","telephone","email","formData","setFormData","setFormError","validation","regex","inputValue","inputTarget","test","newData","onSubmit","preventDefault","animateScroll","scrollToBottom","delay","smooth","input","OrderBill","userInfo","copySuccess","setCopySuccess","inputRef","useRef","ref","readOnly","current","select","document","execCommand","focus","CartOrder","setUserInfo","setOrderId","orders","newOrder","buyer","date","Timestamp","fromDate","Date","add","generateOrder","a","itemsToUpdate","FieldPath","documentId","query","batch","outOfStock","forEach","docSnapshot","index","update","push","commit","slide","useSpring","from","opacity","transform","div","user","CartView","showForm","setShowForm","totalPrice","totalItems","height","Favourites","remove","setRemove","shake","x","config","duration","backgroundImage","img","interpolate","range","output","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.05035e1e.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"@firebase/firestore\";\n\n\nconst apiKey = process.env.REACT_APP_FIREBASE_APIKEY;\nconst authDomain = process.env.REACT_APP_FIREBASE_AUTHDOMAIN;\nconst projectId = process.env.REACT_APP_FIREBASE_PROJECTID;\nconst storageBucket = process.env.REACT_APP_FIREBASE_STORAGEBUCKET;\nconst messagingSenderId = process.env.REACT_APP_FIREBASE_MESSAGINGSENDERID;\nconst appId = process.env.REACT_APP_FIREBASE_APPID;\n\n\nconst app = firebase.default.initializeApp({  //firebase.initializeApp => no lo reconoce como funci√≥n\n  apiKey: apiKey,\n  authDomain: authDomain,\n  projectId: projectId,\n  storageBucket: storageBucket,\n  messagingSenderId: messagingSenderId,\n  appId: appId\n});\n\n  export function getFirebase() {\n      return app\n  }\n\n  export function getFirestore() {\n      return firebase.firestore(app)\n  }\n\n  export function getCatalog() {\n    const db = getFirestore();\n    const catalog = db.collection(\"catalog\");\n    return catalog.get() //una promise propia de firebase\n  }\n\n  export function getCategories() {\n    const db = getFirestore();\n    const categories = db.collection(\"categories\").orderBy(\"order\", \"asc\")\n    return categories.get() //una promise propia de firebase\n  }\n","import React, { createContext, useState} from \"react\"\n\nexport const CartContext = createContext()\n\nexport const CartProvider = ({children}) => {\n\n    const [cart, setCart] = useState([])\n\n    const [stock, setStock] = useState() //Necesito stock para actualizar al instante el cartcounter. Se asigna valor inicial en ItemDetail\n\n    const addProduct = (item, addItems) => { //Cart modal\n        const purchase = {\n               item: {\n                    bookId: item.id,\n                    picture: item.pictureurl,\n                    name: item.name,\n                    author: item.author,\n                    price: item.price,\n                    stock: item.stock,\n                    editorial: item.editorial,\n                    isbn: item.isbn\n                },\n                quantity: addItems \n            }\n            mergeDuplicate(purchase, purchase.item.bookId, addItems)\n            cartCounter()\n        //console.log(\"Item completo\", item)\n        //console.log(\"Item reducido\", purchase)\n    }\n\n    const searchIdInCart = (itemId) => {\n        return cart.find(ticket => ticket.item.bookId === itemId)    \n    }\n\n    const addMoreToCart = (itemId, addItems) => {  //cartModal\n        searchIdInCart(itemId).quantity += addItems\n    }\n\n    const mergeDuplicate = (purchase, itemId, addItems) => { //cartModal\n        cart.length && searchIdInCart(itemId) ? addMoreToCart(itemId, addItems) : setCart([...cart, purchase]) //crea un nuevo array para que note el cambio y reenderize (eso con push no pasa)\n    }\n\n    const changeQuantity = (itemId, counter) => {  //CartView\n        searchIdInCart(itemId).quantity = counter\n        setCart([...cart])\n    }\n\n    const removeFromCart = (itemId) => { //CartView\n        const filtered = cart.filter(purchase =>  //si se pone entre llaves, necesita return\n            purchase.item.bookId !== itemId\n        )\n        setCart(filtered)\n    }\n\n    const cartCounter = () => { //CartWidget\n        return cart.reduce((acc, purchase) => {\n            return acc + purchase.quantity\n        }, 0)\n    }\n\n    const total = () => { //CartView\n        return cart.reduce((acc, purchase) => {\n            return acc + purchase.item.price * purchase.quantity\n        }, 0) //valor inicial del array\n    }\n\n    const clearCart = () => {\n        setCart([])\n    }\n\n    const [favourites, setFavourites] = useState([])\n\n    const removeFavourite = (item) => {\n        let removed = favourites.filter(book => book.id !== item.id)\n        setFavourites(removed)\n    }\n\n    const inFav = (item) => {\n        return favourites.find(book => book.id === item.id)\n    }\n\n    const addFavourite = (item) => {\n        !inFav(item) && setFavourites([...favourites, item])\n    }\n\n    //console.log(\"Cart\", cart)\n    //console.log(favourites)\n\n    return (\n        <CartContext.Provider value={{cart, setCart, searchIdInCart, stock, setStock, addMoreToCart, changeQuantity,\n          removeFromCart, addProduct, mergeDuplicate, clearCart, total, cartCounter, \n          favourites, inFav, addFavourite, removeFavourite}}>\n            {children}\n        </CartContext.Provider>\n    )\n}","import React, {useContext} from 'react'\nimport './cartwidget.css'\nimport { TiShoppingCart } from \"react-icons/ti\";\nimport { IconContext } from \"react-icons\";\nimport { Link } from \"react-router-dom\"\nimport { CartContext } from \"../../context/cartContext\"\n\n\nconst CartWidget = () => {\n    const {cart, cartCounter} = useContext(CartContext)\n\n    const cartItems = cartCounter()\n\n    cart.length && cartCounter()\n\n    return (\n        \n        <div className=\"user__cart\">\n            <Link to={\"/cart\"}>\n            <IconContext.Provider value= { {className: \"cart__icon\" }}>\n                <span className=\"cart__link link\" href=\"#home\">Carrito<TiShoppingCart/></span>\n            </IconContext.Provider>\n            <p className=\"cart__counter\">√çtems: {cartItems ? cartItems : 0}</p>\n            </Link>\n        </div>\n\n    )\n        \n}\n\nexport default CartWidget","import React, {useState, useEffect} from 'react'\nimport './navbar.css'\nimport { Link } from \"react-router-dom\"\nimport { BiDownArrow, BiSearchAlt2 } from \"react-icons/bi\"\nimport { IoIosArrowDown } from \"react-icons/io\"\nimport { AiOutlineMenuFold } from \"react-icons/ai\"\nimport { TiShoppingCart } from \"react-icons/ti\";\nimport { BsPersonFill } from \"react-icons/bs\";\nimport { ImCross } from 'react-icons/im';\nimport { getCategories } from \"../../firebase\"\nimport CartWidget from '../CartWidget/CartWidget'\n\nexport const NavBar = () => {  \n\n    const [categories, setCategories] = useState([])\n\n    const userMenu = [\"Registrarse\", \"Ingresar\", {name: \"Favoritos\", link: \"/favourites\"}, {name: \"Carrito\", link: \"/cart\"}]\n    \n    const searchSelect = [\"Palabra clave\", \"T√≠tulo\", \"Autor\", \"ISBN\"]\n\n   useEffect(() => {\n       getCategories() \n       .then((querySnapshot) => {\n           querySnapshot.size === 0 && console.log(\"No hay resultados\")\n           let result = querySnapshot.docs.map(doc => {\n               return ({\n                   catId: doc.id,\n                   ...doc.data()\n                })\n            })\n            //console.log(\"Resultado:\", result)\n            setCategories(result)\n        })\n    }, [])\n\n    return (\n        <nav className=\"navbar\">\n            <div className=\"navbar__main\">\n                <Link to={\"/\"}><img src={process.env.PUBLIC_URL + \"/images/addenda1.png\"} className=\"navbar__logo\" alt=\"logo\" /></Link>\n                <div className=\"menu__icon\">\n                    <Link to={\"/cart\"}><TiShoppingCart className=\"user__cart__icon icon\" /></Link>\n                    <a href=\"#user__tab\"><BsPersonFill className=\"user__menu__icon icon\"/></a>\n                    <a href=\"#navbar__menu\" className=\"dropdown\"><AiOutlineMenuFold className=\"navbar__menu__icon icon\"/></a>\n                </div>\n                <ul className=\"navbar__menu\" id=\"navbar__menu\">\n                    <a href=\"#close\"><ImCross className=\"navbar__close\"/></a>\n                    <li className=\"menu__item\">\n                        <Link to={\"/\"}>\n                            <span className=\"menu__link link\">Home</span>\n                        </Link>\n                    </li>\n                    <li className=\"menu__item catalogo\">\n                        <Link to={\"/\"}>\n                            <span className=\"menu__link link main__link\">Cat√°logo<IoIosArrowDown className=\"catalogo__icon\"/></span>\n                        </Link> \n                        <ul className=\"catalogo__dropdown\">\n                            { categories.map((category) => \n                                <li className=\"cat-dropdown__item\" key={category.catId}>\n                                    <Link to={`/category/${category.catId}`}>{category.name}</Link>\n                                </li> )\n                            }\n                        </ul>\n                    </li>\n                    <li className=\"menu__item\">\n                        <Link to={\"/ubicacion\"}>\n                            <span className=\"menu__link link\">Ubicaci√≥n</span>\n                        </Link>\n                    </li>\n                    <li className=\"menu__item\">\n                        <Link to={\"/contacto\"}>\n                            <span className=\"menu__link link\">Contacto</span>\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n            <div className=\"navbar__user\">\n                <CartWidget />\n                <div className=\"user__tab\" id=\"user__tab\">\n                    <span>Nombre.usuario\n                        <BiDownArrow className=\"user__arrowicon\"/>\n                        <a href=\"#close\"><ImCross className=\"usermenu__close\"/></a>\n                    </span>\n                    <ul className=\"user__menu\">\n                        { userMenu.map((tab, i) => \n                            typeof tab === \"string\" ? \n                            <li key={i} className=\"user-menu__item\">{tab}</li>\n                            : <Link key={i} className={tab.name} to={tab.link}>\n                                <li className=\"user-menu__item\" >{tab.name}</li>\n                              </Link> \n                        )}\n                    </ul>\n                </div>\n            </div>\n            <div className=\"navbar__search\">\n                <div className=\"navbar__search--container\">\n                    <input className=\"search__input\" type=\"text\" placeholder=\"Ingresar t√≠tulo, autor, ISBN o palabra clave\"></input>\n                    <select className=\"search__select\">\n                        { searchSelect.map((option, i) => \n                            <option key={i} className=\"select__item\">{option}</option> )}\n                    </select>\n                    <div className=\"search__button\">\n                        <BiSearchAlt2 className=\"search__icon\"/>\n                    </div>\n                </div> \n            </div>   \n        </nav>\n    )\n}","import React from \"react\"\nimport \"./item.css\"\nimport { Link } from \"react-router-dom\"\n\nconst Item = ({item}) => {\n    return (\n        <React.Fragment>\n        <div key={item.id}  className={\"item__div\"}>\n        <Link to={`/item/${item.id}`} >\n            <img src={process.env.PUBLIC_URL + item.pictureurl} className={\"item__cover\"} alt=\"book-cover\"></img> \n        </Link>\n            <div className={\"item__info\"}>\n                <span className={\"info__title\"}>{item.name}</span>\n                <span className={\"info__author\"}>{item.author}</span>\n                <span className={\"info__price\"}>AR$ {item.price}</span>\n            </div>\n        </div>\n        </React.Fragment>\n    )\n}\n\nexport default Item","import React from \"react\"\nimport \"./itemlist.css\"\nimport Item from \"../Item/Item\"\n\nconst ItemList = ({items}) => {\n    //console.log({items})\n    return (\n        <div className={\"item-list\"}> \n            { items.map((item)=> { \n                    return (       \n                        <Item key={item.id} item={item} />\n                    )\n                })\n            }\n        </div>\n    )\n}\n\nexport default ItemList","import React from 'react'\nimport \"./loading.css\"\n\nexport default function Loading({loading}) {\n    return (\n        <div className=\"loading__div\">\n            <h1 className=\"message__title\">{loading}</h1>\n            <img src={process.env.PUBLIC_URL + \"/images/spinner.png\"} className=\"App-logo\" alt=\"logo\" />\n        </div>\n    )\n}\n","import React from 'react'\nimport \"./error404.css\"\n\nconst Error404 = ({text}) => {\n    return (\n        <div className=\"not__found\">\n            <img src={process.env.PUBLIC_URL + \"/images/404.png\" } alt=\"error 404\" />\n            <h1>{text}</h1>\n        </div>\n    )\n}\n\nexport default Error404\n","import React, {useState, useEffect} from 'react'\nimport { BiUpArrow } from 'react-icons/bi';\nimport \"./scrolltop.css\"\n\n\nconst ScrollTop = () => {\n\n    const [showScroll, setShowScroll] = useState(false)\n\n    const checkScrollTop = () => {\n      if (!showScroll && window.pageYOffset > 400){\n        setShowScroll(true)\n      } else if (showScroll && window.pageYOffset <= 400){\n        setShowScroll(false)\n      }\n    }\n\n    useEffect(() => {\n      window.addEventListener('scroll', checkScrollTop) \n      return () => window.removeEventListener('scroll', checkScrollTop)\n    })\n    \n    const scrollTop = () =>{\n        window.scrollTo({top: 0, behavior: 'smooth'});\n    }\n  \n    return (\n        <BiUpArrow className=\"scroll__top\" onClick={scrollTop} style={{display: showScroll ? 'flex' : 'none'}}  />\n    )\n}\n\nexport default ScrollTop\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from \"react-router-dom\"\nimport { getFirestore } from \"../../firebase\"\nimport ItemList from \"../ItemList/ItemList\"\nimport Loading from \"../Loading/Loading\"\nimport Error404 from \"../Error404/Error404\"\nimport ScrollTop from \"../ScrollTop/ScrollTop\"\n\nconst ItemListContainer = ({loading, noMatch}) => {\n\n    const [items, setItems] = useState([]) //establecer un estado local como array vac√≠o, que despu√©s recibe la respuesta de una promise. Esto es para que al llegar a ItemList (antes de ejecutar la promise) no rompa cuando intente mapear.\n    const [notFound, setNotFound] = useState(false)\n\n    const {categoryId} = useParams()\n\n    useEffect(() => {\n      const db = getFirestore();\n      let catalog;\n\n      if(categoryId) { // = result.filter(book => book.genre.some((tags) => tags.catId === categoryId))\n        catalog = db.collection(\"catalog\").where(\"categoryId\", \"array-contains\", categoryId).where(\"stock\", \">\", 0)\n      } else {\n        catalog = db.collection(\"catalog\").where(\"stock\", \">\", 0)\n      }\n\n      catalog.get().then((querySnapshot) => {\n        querySnapshot.size === 0 && console.log(\"No hay resultados\")\n        let result = querySnapshot.docs.map(doc => { \n          return ({ //destructuring para crear un objeto con la data el doc.id + doc.data() /niveles diferent\n            id: doc.id,\n            ...doc.data()\n          })\n        })\n        //console.log(\"Resultado:\", result)\n        result.length ? setItems(result) : setNotFound(true)\n      })\n      return () => setItems([]) + setNotFound(false)\n    }, [categoryId])\n\n    return (\n      <div className=\"item-list-display\">\n        <ItemList items={items}/>\n        { !items.length && !notFound ? <Loading loading={loading} /> : null }\n        { !items.length && notFound ? <Error404 text={noMatch}/> : null }\n        <ScrollTop/>\n      </div>\n    )\n}\n\nexport default ItemListContainer","import React, {useState, useEffect} from \"react\"\nimport \"./itemcounter.css\"\nimport { AiFillPlusSquare, AiFillMinusSquare } from \"react-icons/ai\";\nimport { TiShoppingCart } from \"react-icons/ti\";\n\nconst ItemCounter = ({initial, stock, onAdd}) => {\n\n    const [counter, setCounter] = useState(initial);\n\n    const sum = () => {\n        counter < stock && setCounter(counter + 1)\n    }\n\n    const substr = () => {\n        counter >= initial && setCounter(counter - 1)\n    };\n\n    const onAddActive = () => {\n        onAdd(counter)\n    }\n\n    useEffect(() => {\n        stock === 0 && setCounter(0)\n        return () => {setCounter(initial)}\n    }, [stock, initial])\n\n    return (\n        <div className=\"item-counter\">\n            <div className=\"counter-controls\">\n                <button onClick={substr} className=\"button\" disabled={counter === 0  || stock === 0}>\n                    <AiFillMinusSquare className={\"minus-icon\"}/>\n                </button>\n                <span className=\"counter\">{counter}</span>\n                <button onClick={sum} className=\"button\" disabled={counter === stock || stock === 0}>\n                    <AiFillPlusSquare className={\"plus-icon\"}/>\n                </button>\n            </div>\n            { stock > 0 ?\n            <button className=\"add-item\" disabled={counter === 0} onClick={onAddActive}>\n                Agregar {counter > 0 && ` ${counter}`}<TiShoppingCart className=\"cart-icon\" />\n            </button>\n            : <button className=\"add-item\" disabled>Sin stock</button>\n            }\n        </div>\n    )\n}\n\nexport default ItemCounter","import React, { useState, useContext } from 'react'\nimport \"./cartmodal.css\"\nimport { Link } from \"react-router-dom\"\nimport { TiShoppingCart } from \"react-icons/ti\";\nimport { CartContext } from \"../../context/cartContext\";\n\n\nconst CartModal = ({item, setModal, addItems, setAddItems, stock, setStock}) => {\n\n    const [goCart, setGoCart] = useState(false)\n    const [load, setLoad] = useState(false)\n\n    const {addProduct} = useContext(CartContext)\n\n    const exit = () => {\n        setAddItems(addItems - addItems)\n        setModal(false)\n    }\n    \n    const confirm = () => {\n        setLoad(true)\n        setStock(stock - addItems);\n        addProduct(item, addItems)\n        setTimeout(() => {\n            setGoCart(true) \n        }, 1000);\n    }\n\n    return (\n        <div className=\"modal__div\">\n            <div className=\"cart__modal\">\n            <button className=\"modal__exit\" onClick={exit}>X</button>\n            <img className=\"modal__cover\" src={process.env.PUBLIC_URL + item.pictureurl} alt=\"foto de portada\"/>\n            <div className=\"modal__info\">\n                <div className=\"m-info__item\">\n                    <h1 className=\"item__name\">{item.name}</h1>\n                    <h2 className=\"item__author\">{item.author}</h2>\n                    <span className=\"item__price\">AR$ {item.price}</span>\n                </div>\n                <div className=\"m-info__cart\">\n                    <div className=\"cart__detail\">\n                        <span className=\"detail__text\">Subtotal: </span>\n                        <div className=\"detail__math\">\n                            <span className=\"math__quantity\">Libro x {addItems}</span>\n                            <span className=\"math__subtotal\">\n                                AR$ { addItems * item.price }\n                            </span>\n                        </div>\n                    </div>\n                    { !goCart &&\n                    <button className={!load ? \"cart__confirm\" : \"cart__confirm loading-state\"} onClick={confirm} >\n                        { !load ? \"Confirmar compra\" \n                        : <span className=\"span__loading\">Confirmando <img className=\"loading\" src=\"/images/greenloading.gif\" alt=\"loading\"/></span> }\n                    </button> }\n                    { goCart &&\n                    <Link to={\"/cart\"}>\n                        <button className=\"cart__goCart\">Ir al carrito\n                        <TiShoppingCart className=\"cart__icon\" /></button>\n                    </Link> }\n                </div>\n            </div>\n        </div>\n    </div> )\n}\n\nexport default CartModal\n\n","import React, {useContext, useState, useEffect} from \"react\";\nimport \"./itemdetail.css\"\nimport { Link } from \"react-router-dom\"\nimport { GiRoundStar } from 'react-icons/gi';\nimport { CartContext } from \"../../context/cartContext\";\nimport ItemCounter from \"../ItemCounter/ItemCounter\"\nimport CartModal from \"../CartModal/CartModal\"\n\nconst ItemDetail = ({ item }) => {\n\n  const {stock, setStock} = useContext(CartContext)\n  const {inFav, addFavourite, removeFavourite} = useContext(CartContext)\n  \n  const [addItems, setAddItems] = useState(0)\n\n  const [modal, setModal] = useState(false)\n  const [favButton, setFavButton] = useState(false)\n\n  useEffect(()=> { \n    setStock(item.stock)\n    inFav(item) && setFavButton(true)\n  }, [setStock, item, inFav])\n\n  const onAdd = (counter) => {\n    setModal(true);\n    setAddItems(counter)\n  }\n\n  const fav = () => {\n    if(!favButton) {\n      setFavButton(true)\n      addFavourite(item)\n    } else {\n      setFavButton(false)\n      removeFavourite(item)\n    }\n  }\n\n  return (\n    <div className=\"item__detail\">\n      <div className=\"detail__photo\">\n        <img src={process.env.PUBLIC_URL + item.pictureurl} alt=\"foto de portada\"/>\n        <span className=\"photo__favourite\">\n        <GiRoundStar onClick={() => fav()} className=\"favourite__icon\" style={{ color: favButton ? \"gold\" : \"white\"}} />\n          { !favButton ?\n            <p className=\"favourite__add\">Agregar a favoritos</p>\n            : <Link to={\"/favourites\"} className=\"favourites__link\" >\n                  <p className=\"favourite__added\">Mis favoritos</p>\n              </Link>\n          }\n        </span>\n      </div>   \n      <div className=\"detail__info\" key={item.id}>\n        <h1 className=\"d-info__name\">{item.name}</h1>\n        <h2 className=\"d-info__author\">{item.author}</h2>\n        <p className=\"d-info__tags\">Categor√≠as: \n         { item.genre !== undefined && item.genre.map((tags) => {\n          return ( <Link key={tags.catId} to={`/category/${tags.catId}`}>\n            <span>{tags.name}</span> </Link>) \n          })\n         }\n        </p>\n        <p className=\"d-info__synopsis\">\n          { !item.genre ? null : typeof item.synopsis === \"string\" ? item.synopsis\n          : item.synopsis.map((parragraph) => {\n          return <span key={parragraph} className=\"parr\">{parragraph}</span>})\n          }\n        </p>\n        <div className=\"detail__footer\">\n          <div className=\"detail__f-tecnica\">\n            <h3>Ficha t√©cnica</h3>\n            <p>Editorial: {item.editorial}</p>\n            <p>A√±o de edici√≥n: {item.a√±oedicion}</p>\n            <p>Encuadernaci√≥n: {item.encuadernacion}</p>\n            <p>ISBN: {item.isbn}</p>\n            { item.traduccion && \n                <p>Traducci√≥n: {item.traduccion}</p> }\n            { item.ilustracion && \n                <p>Ilustraci√≥n: {item.ilustracion}</p> }\n          </div>\n          <div className=\"detail__itemcounter\">\n            <div className=\"itemcounter__price\">\n              <span>Precio unitario: </span>\n              <span className=\"price__tag\">AR$ {item.price}</span>\n            </div>\n            <ItemCounter initial={1} stock={stock} onAdd={onAdd} /> \n          </div>\n        </div>\n      </div> \n      { modal ? <CartModal item={item} setModal={setModal} addItems={addItems} setAddItems={setAddItems}\n      stock={stock} setStock={setStock} /> : null }\n    </div>\n  )\n}\n\nexport default ItemDetail;\n","import React, { useState, useEffect } from \"react\";\nimport \"./itemdetailcontainer.css\"\nimport { useParams } from \"react-router-dom\"\nimport { getFirestore } from \"../../firebase\"\nimport ItemDetail from \"../ItemDetail/ItemDetail\";\nimport Loading from \"../Loading/Loading\"\nimport Error404 from \"../Error404/Error404\"\nimport ScrollTop from \"../ScrollTop/ScrollTop\"\n\nconst ItemDetailContainer = ({loading, noMatch}) => {\n  const [item, setItem] = useState({});\n\n  const [notFound, setNotFound] = useState(false)\n  const {itemId} = useParams()\n\n  //console.log(item)\n\n  useEffect(()=> { //useEffect para que solo se lo llame una vez montado el componente. Evitar interferencias\n    const db = getFirestore();\n    const catalog = db.collection(\"catalog\")\n    const book = catalog.doc(itemId)\n    book.get().then((doc) => {\n      !doc.exists ? setNotFound(true)\n      : setItem({id: doc.id, ...doc.data()})\n    })\n    .catch((error) => console.log(`Ocurri√≥ un error: ${error}`))\n    return () => setNotFound(false)\n  }, [itemId])\n\n  return ( \n    <div className=\"item-detail-display\">\n    {item.hasOwnProperty(\"id\") ? <ItemDetail item={item}/> : (!notFound && <Loading loading={loading}/>)}\n    {notFound && <Error404 text={noMatch}/> }\n    <ScrollTop />\n    </div>\n  )\n};\n\nexport default ItemDetailContainer;\n","import React, {useState, useContext} from 'react'\nimport \"./cartitem.css\"\nimport { VscTrash } from \"react-icons/vsc\"\nimport { AiFillPlusSquare, AiFillMinusSquare } from \"react-icons/ai\";\nimport { CartContext } from \"../../context/cartContext\";\n\nconst CartItem = ({purchase}) => {\n    \n    const {changeQuantity, removeFromCart} = useContext(CartContext)\n\n    const [counter, setCounter] = useState(0)\n\n    const [edit, setEdit] = useState(false)\n\n    const editing = (quantity) => {\n        setCounter(quantity)\n        setEdit(true)\n    }\n\n    const save = (itemId) => {\n        changeQuantity(itemId, counter)\n        setEdit(false)\n    }\n\n    const sum = (stock) => {\n        counter < stock && setCounter(counter + 1)\n    }\n\n    const minus = () => {\n        counter > 1 && setCounter(counter - 1)\n    }\n\n    const remove = (itemId) => {\n        removeFromCart(itemId)\n    }\n\n    return (\n        <li className=\"itemlist__item\" key={purchase.item.bookId} >\n            <div className=\"item__data\">\n                <img className=\"item__cover cover__view\" src={process.env.PUBLIC_URL + purchase.item.picture} alt=\"portada\" />\n                <div className=\"data__main\">\n                    <h2>{purchase.item.name}</h2>\n                    <h3>{purchase.item.author}</h3>\n                    <p>{purchase.item.editorial}</p>\n                    <p>ISBN: {purchase.item.isbn}</p>\n                </div>\n            </div>\n            <div className={!edit ? \"item__edit\" : \"item__edit item__editing\" } > \n                { !edit ? <button onClick={() => editing(purchase.quantity)} >Editar</button> \n                : <button onClick={() => save(purchase.item.bookId)}>Guardar</button> }\n            </div>\n            <div className=\"item__pricee\">\n                <span>AR$ {purchase.item.price}</span>\n            </div>\n            <div className={!edit ? \"item__quantity\" : \"item__quantity item__editing\" }  >\n            { edit &&\n                <div className=\"cart__counter\">\n                    <button className=\"button button-cart\" onClick={minus}>\n                        <AiFillMinusSquare className=\"minus-icon minus-cart\"/>\n                    </button>\n                    <span>{counter}</span>\n                    <button className=\"button button-cart\" onClick={() => sum(purchase.item.stock)} >\n                        <AiFillPlusSquare className=\"plus-icon plus-cart\"/>\n                    </button>\n                </div> }\n                { !edit &&\n                    <span>{purchase.quantity}</span>}\n            </div>\n            <div className=\"item__subtotal\">\n                <span>AR$ {purchase.item.price * purchase.quantity}</span>\n            </div>\n            <div className=\"item__remove\">\n                <button onClick={() => remove(purchase.item.bookId)}><VscTrash/></button>\n            </div>\n        </li>\n    )\n}\n\nexport default CartItem\n","import React from 'react'\n\nconst FormInput = ({name, type, placeholder, valueHandler, validate, formError}) => {\n\n    const errorTarget =  formError && formError.field_id === name\n    const errorDisable = formError && formError.field_id !== name\n\n    return (\n        <React.Fragment>\n        <input type={type}\n               name={name}\n               placeholder={placeholder} \n               disabled={errorDisable}\n               className={ errorTarget ? \"form__input error__input\" : \"form__input\" }\n               onChange={valueHandler} \n               onBlur={(e) => validate(e, e.target.value)} />\n        { errorTarget ? <span>{formError.message}</span> : null }\n        </React.Fragment>\n    )\n}\n\nexport default FormInput","import React, { useState } from 'react'\nimport \"./cartform.css\"\nimport { animateScroll } from \"react-scroll\"\nimport FormInput from \"../FormInput/FormInput\"\n \n\nconst CartForm = ({getInfo, orderId}) => {\n\n    const [load, setLoad] = useState(false)\n    const [finish, setFinish] = useState(false)\n    const initialState = { fullname: \"\", telephone: \"\", email: \"\"}\n\n    const [formData, setFormData] = useState(initialState)\n    const [formError, setFormError] = useState(null)\n\n    //console.log(formError);\n    const validation = {\n        fullname: {\n            regex: /^[a-zA-z]+ (.+\\s+.*)|(.*\\s+.+)[a-zA-z]+$/i,\n            error: \"Ingrese su nombre completo\"\n        },\n        telephone: {\n            regex: /^((\\(?\\d{3}\\)?[-. ]?\\d{4})|(\\(?\\d{4}\\)?[-. ]?\\d{3})|(\\(?\\d{5}\\)?[-. ]?\\d{2}))[-. ]?\\d{4}$/,\n            error: \"Ingrese un n√∫mero v√°lido para Argentina. Ej: (011) 4780-9032\"\n        },\n        email: {\n            regex: /^[-a-z0-9~!$%^&*_=+}{'?]+(\\.[-a-z0-9~!$%^&*_=+}{'?]+)*@([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,\n            error: \"Ingrese una direcci√≥n de correo v√°lida\"\n        }\n    };\n    const validate = (e, inputValue) => {\n        const inputTarget = validation[e.target.name]; //property access with bracket notation para mantener el valor din√°mico\n        !inputTarget.regex.test(inputValue) ? setFormError({\n            field_id: e.target.name,\n            message: inputTarget.error\n        }) : setFormError(null)\n    }\n    const valueHandler = (e) => {\n        let newData = {\n            ...formData,\n        };\n        newData[e.target.name] = e.target.value\n        setFormData(newData)\n        formError && validate(e, e.target.value) //valida al momento de escribir\n    }\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        setLoad(true)\n        animateScroll.scrollToBottom({delay: 1000, smooth: \"linear\"})\n        setTimeout(() => {\n            !formError && getInfo(formData)\n            setFinish(true)\n        }, 1000);\n    }\n\n    const inputs = [\n        { name: \"fullname\", type: \"text\", placeholder: \"Nombre completo\"},\n        { name: \"telephone\", type: \"tel\", placeholder: \"(011) 4780-9032\"},\n        { name: \"email\", type: \"email\", placeholder: \"Email\"}\n    ]\n    \n    return (\n        <React.Fragment>\n            <h2 className=\"form__title\">Complete sus datos</h2>\n            <form onSubmit={submitHandler} className=\"form__form\">\n                { inputs.map((input) => \n                    <FormInput key={input.name} name={input.name} type={input.type} placeholder={input.placeholder}\n                        valueHandler={valueHandler} validate={validate} formError={formError} /> )\n                }\n                { ! finish ?\n                    <button className={!load ? \"cartview__button form__submit\" : \"cartview__button form__submit loading-state\" }\n                       type=\"submit\" disabled={orderId}>\n                           { !finish && !load ? \"Generar orden de compra\" \n                             : <span className=\"span__loading\">Confirmando <img className=\"loading\" src=\"/images/greenloading.gif\" alt=\"loading\"/></span> }\n                    </button>\n                    : <button className=\"cartview__button form__submit\">Orden generada</button> }\n            </form>\n        </React.Fragment>\n    )\n}\n\nexport default CartForm\n","import React, {useState, useContext, useRef} from 'react'\nimport \"./orderbill.css\"\nimport { ImPaste } from 'react-icons/im'\nimport { CartContext } from \"../../context/cartContext\";\n\nconst OrderBill = ({ userInfo, orderId}) => {\n\n    const {clearCart} = useContext(CartContext)\n\n    const [copySuccess, setCopySuccess] = useState('');\n    const inputRef = useRef(null);\n\n    function copyToClipboard(e) {\n        inputRef.current.select();\n        document.execCommand('copy');\n        //not show the whole text area selected.\n        e.target.focus();\n        setCopySuccess('Copiado!');\n      };\n\n    //console.log(userInfo)\n\n    return (\n        <div className=\"orderbill__div\" name=\"billing\">\n            <p style={{color: \"white\"}}>Gracias por tu compra {userInfo.fullname}.</p>\n            <span style={{color: \"white\"}}>Est√© es el c√≥digo de tu pedido: \n                <input value={orderId} ref={inputRef} readOnly className=\"orderId\"/>\n            </span>\n            <button onClick={copyToClipboard} className=\"cartview__button copy\"><ImPaste/></button>\n            <span className=\"success\">{copySuccess}</span>\n            <button className=\"cartview__button checkout\" onClick={clearCart}>CheckOut</button>\n        </div>\n    )\n}\n\nexport default OrderBill","import React, { useState, useEffect } from 'react'\nimport \"./cartorder.css\"\nimport { useSpring, animated } from \"react-spring\"\nimport firebase from \"firebase/app\"\nimport \"@firebase/firestore\"\nimport { getFirestore } from \"../../firebase\"\nimport CartForm from \"../CartForm/CartForm\"\nimport OrderBill from \"../OrderBill/OrderBill\"\n\nconst CartOrder = ({cart, total}) => {\n    \n    const [userInfo, setUserInfo] = useState()\n    const [orderId, setOrderId] = useState(\"\")\n\n    const getInfo = (user) => {\n        setUserInfo(user);\n    }\n\n    useEffect(() => {\n        const generateOrder = () => {\n            const db = getFirestore()\n            const orders = db.collection(\"orders\");\n            const newOrder = {\n                buyer: userInfo,\n                items: cart,\n                date: firebase.firestore.Timestamp.fromDate(new Date()),\n                total: total\n            }\n            //console.log(userInfo); console.log(newOrder)\n            orders.add(newOrder).then(({id}) => {\n                setOrderId(id)\n            }).catch(error => console.log(\"Ha habido un error:\", error))\n        }\n        userInfo && generateOrder()\n    }, [userInfo, cart, total])\n    \n    useEffect(() => {\n        const updateStock = () => {\n            (async function () {\n                const db = getFirestore()\n                const itemsToUpdate = db.collection(\"catalog\")\n                .where(firebase.firestore.FieldPath.documentId(), \"in\", cart.map(purchase => purchase.item.bookId))\n    \n                const query = await itemsToUpdate.get()  //await, otra forma en vez de .then \n                //console.log(query)\n                const batch = db.batch()\n    \n                const outOfStock = [];\n                query.docs.forEach((docSnapshot, index) => {\n                    if(docSnapshot.data().stock >= cart[index].quantity) {\n                        batch.update(docSnapshot.ref, { stock: docSnapshot.data().stock - cart[index].quantity })\n                    } else {\n                        outOfStock.push({...docSnapshot.data(), id: docSnapshot.id})\n                    }\n                })\n                outOfStock.length === 0 && await batch.commit()\n            })()\n        }\n        orderId && updateStock()\n    },[orderId, cart])\n\n    const slide = useSpring({\n        from: { opacity: 0, transform: \"translateY(-90%)\"},\n        to: { opacity: 1, transform: \"translateY(0%)\" },\n    })\n\n    //console.log(userInfo)\n\n    return (\n        <animated.div className=\"cartorder__div\" style={slide}>\n            <CartForm getInfo={getInfo} orderId={orderId} />\n            { orderId &&\n            <OrderBill userInfo={userInfo} cart={cart} orderId={orderId} />}\n        </animated.div>\n    )\n}\n\nexport default CartOrder\n","import React, {useState, useContext} from 'react'\nimport \"./cartview.css\"\nimport { TiShoppingCart } from \"react-icons/ti\";\nimport { GiRoundStar } from 'react-icons/gi';\nimport { Link } from \"react-router-dom\"\nimport { animateScroll } from \"react-scroll\"\nimport { CartContext } from \"../../context/cartContext\";\nimport CartItem from \"../CartItem/CartItem\"\nimport CartOrder from \"../CartOrder/CartOrder\"\n\nconst CartView = () => {\n\n    const {cart, total, clearCart, cartCounter} = useContext(CartContext)\n\n    const [showForm, setShowForm] = useState(false)\n    \n    const totalPrice = total()\n\n    const totalItems = cartCounter()\n\n    const order = () => { \n        setShowForm(true)\n        animateScroll.scrollToBottom()\n    }\n\n    return (\n        <React.Fragment>\n            { !cart.length &&\n            <div className=\"cartview__div wall\">\n            <div className=\"cartview__display\">\n                <div className=\"cartview__firstrow\">\n                    <h1 className=\"cartview__title\">Mi Carrito<TiShoppingCart/></h1>\n                    <Link to=\"/favourites\">\n                        <button className=\"cartview__favourite cartview__button\">Mis favoritos<GiRoundStar className=\"cartview__icon\"/></button>\n                    </Link>\n                </div>\n                <div className=\"grid__banner tablet__view\">\n                    <span className=\"banner__product\">Producto</span>\n                    <span></span>\n                    <span>Precio</span>\n                    <span>Cantidad</span>\n                    <span>Subtotal</span>\n                </div>\n                <div className=\"cartview__notFound\">\n                    <h2>Su carrito est√° vac√≠o</h2>\n                    <img src={process.env.PUBLIC_URL + \"/images/empty-box.png\"} alt=\"carrito vac√≠o\"/>\n                    <Link to=\"/\">\n                    <button className=\"cartview__button\">Seguir comprando</button>\n                    </Link>\n                </div>\n            </div> \n            </div> \n            }\n            { cart.length >= 1 &&\n            <div className=\"cartview__div wall\" style={{height: cart.length > 1 && \"100%\"}}>\n            <div className=\"cartview__display\">\n                <div className=\"cartview__firstrow\">\n                    <h1 className=\"cartview__title\">Mi Carrito<TiShoppingCart className=\"cartview__icon\" />\n                    <span className=\"title__number\">({totalItems} Items)</span>\n                    </h1>\n                    <button className=\"cartview__favourite cartview__button\">Mis favoritos<GiRoundStar className=\"cartview__icon\"/></button>\n                </div>\n                <div className=\"grid__banner\">\n                    <span className=\"banner__product\">Producto</span>\n                    <span></span>\n                    <span>Precio</span>\n                    <span>Cantidad</span>\n                    <span className=\"subtotal\">Subtotal</span>\n                </div>\n            <ul className=\"grid__itemlist\">\n                { cart.map((purchase) => {\n                    return  (//Necesito renderizar componente para que particularize las acciones por cada item\n                        <CartItem key={purchase.item.bookId} purchase={purchase} /> )\n                  })\n                }\n            </ul>\n            <div className=\"cartview__controls\">\n                <div className=\"align\">\n                    <Link to=\"/\">\n                    <button className=\"cartview__button\">Seguir comprando</button>\n                    </Link>\n                    <button onClick={clearCart} className=\"cartview__button\">Vaciar carrito</button>\n                    </div>\n                <div className=\"controls__total\">\n                    <div className=\"total__row\">\n                        <span>Subtotal:</span> <span className=\"span__price\">AR$ {totalPrice}</span>\n                    </div>\n                    <div className=\"total__row\">\n                        <span>Total:</span> <span className=\"span__price\">AR$ {totalPrice}</span>\n                    </div>\n                    <button className=\"cartview__button purchase\" onClick={() => order()}>Iniciar compra</button>\n                </div>\n            </div>\n            { showForm && <CartOrder cart={cart} total={totalPrice} />}\n        </div>\n        </div>\n        }\n\n    </React.Fragment>\n    )\n}\n\nexport default CartView\n","import React, {useContext, useState} from 'react'\nimport \"./favourites.css\"\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport { BsTrash } from 'react-icons/bs';\nimport { GiSaveArrow } from 'react-icons/gi';\nimport { useSpring, animated } from \"react-spring\"\nimport { Link } from \"react-router-dom\"\nimport { CartContext } from \"../../context/cartContext\";\n\nconst Favourites = () => {\n\n    const {favourites, removeFavourite} = useContext(CartContext)\n\n    const [remove, setRemove] = useState(false)\n\n    const shake = useSpring({\n        from: { x: 0 },\n        to: { x: 1 },\n        config: { duration: 400 }\n    });\n\n    return (\n        <div className=\"favourites__div wall\" style={{ backgroundImage: `url(${process.env.PUBLIC_URL + \"images/bookshelf.png\"})`}}>\n           { !remove ? \n            <div className=\"control__div\">\n               <BsTrash className=\"control control__remove\" onClick={() => setRemove(true)} />\n               <span>Eliminar</span>\n            </div> : \n            <div className=\"control__div\">\n            <GiSaveArrow className=\"control control__save\" onClick={() => setRemove(false)} /> \n            <span>Guardar</span>\n            </div>\n           }\n           <div className=\"bookshelf__display\">\n                { favourites.map((book, i) => {\n                return (\n                    <div key={i} className=\"bookshelf__item\">\n                        { remove && <AiOutlineCloseCircle className=\"favourite__remove\" onClick={() => removeFavourite(book)} />}\n                        <Link to={`/item/${book.id}`} className={remove ? \"link__disable\" : undefined}>\n                            <animated.img src={book.pictureurl}\n                                style={{ transform: shake.x\n                                            .interpolate({\n                                                range: [0, 0.25, 0.50, 0.75, 1],\n                                                output: [0, -5, 0, 5, 0]\n                                            })\n                                            .interpolate(x => `rotate(${x}deg)`)}}/>\n                        </Link>\n                    </div> )\n                    })\n                }\n             </div>\n        </div>\n    )\n}\n\nexport default Favourites\n","import React from \"react\"\nimport './App.css';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\nimport { NavBar } from './components/NavBar/NavBar'\nimport {CartProvider} from \"./context/cartContext\" //componente que tiene el CartContext.Provider\nimport ItemListContainer from './components/ItemListContainer/ItemListContainer'\nimport ItemDetailContainer from './components/ItemDetailContainer/ItemDetailContainer'\nimport CartView from \"./components/CartView/CartView\"\nimport Favourites from \"./components/Favourites/Favourites\"\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <CartProvider>\n          <NavBar />\n          <Switch>\n            <Route exact path=\"/\">\n              <ItemListContainer loading=\"Cargando...\"/>\n            </Route>\n            <Route exact path=\"/category/:categoryId\"> \n              <ItemListContainer loading=\"Cargando...\" noMatch=\"No se encontraron coincidencias\" />\n            </Route>\n            <Route exact path=\"/item/:itemId\">\n              <ItemDetailContainer loading=\"Cargando...\" noMatch=\"No se encontraron coincidencias\" />\n            </Route> \n            <Route exact path=\"/cart\">\n              <CartView loading=\"Cargando...\" />\n            </Route> \n            <Route exact path=\"/favourites\">\n              <Favourites/>\n            </Route> \n          </Switch>\n        </CartProvider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}